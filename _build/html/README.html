<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About The Project &mdash; ExperimentalRoboticsAssignment2 v1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ExperimentalRoboticsAssignment2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Code documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code_documentation/index.html">Code Documentation for ExperimentalRoboticsAssignment2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Documents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documents/index.html">Other Documentation for ExperimentalRoboticsAssignment2</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ExperimentalRoboticsAssignment2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>About The Project</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div id="top"></div>
<!-- PROJECT SHIELDS -->
<!--
*** https://www.markdownguide.org/basic-syntax/#reference-style-links
-->
<p><a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/network/members"><img alt="Forks" src="https://img.shields.io/github/forks/fedehub/ExperimentalRoboticsAssignment2" /></a>
<a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/stargazers"><img alt="Stargazers" src="https://img.shields.io/github/stars/fedehub/ExperimentalRoboticsAssignment2" /></a>
<a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/issues"><img alt="Issues" src="https://img.shields.io/github/issues/fedehub/ExperimentalRoboticsAssignment2" /></a></p>
<!-- PROJECT LOGO -->
<br />
<div align="center">
  <a href="https://github.com/fedehub/ExperimentalRoboticsAssignment2">
    <img src="media/miscellaneous/logo-black.png" alt="Logo" width="200" height="100">
  </a>
  <h3 align="center">Experimental Robotics Laboratory</h3>
  <p align="center">
    First assignment for the Experimental Robotics laboratory course 
    <br />
    <a href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/doc"><strong>Explore the docs »</strong></a>
    <br />
    <br />
    <a href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/demo">View Demo</a>
    ·
    <a href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/issues">Report Bug</a>
    ·
    <a href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/issues">Request Feature</a>
  </p>
</div>
<!-- TABLE OF CONTENTS -->
<details>
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="#about-the-project">About The Project</a>
      <ul>
        <li><a href="#built-with">Built With</a></li>
      </ul>
    </li>
    <li>
      <a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#software-architechture">Software architechture</a></li>
        <li><a href="#ros-node-description-an-overview">ROS node description: an Overview</a></li>
        <li><a href="#ros-node-description-the-go_to_point.py-node">ROS node description: the go_to_point.py node</a></li>
        <li><a href="#ros-node-description-the-main.py-node ">ROS node description:-the main.py node</a></li>
        <li><a href="#ros-node-description-the-cluedo_kb.py-node ">ROS node description: the cluedo_kb.py node</a></li>
        <li><a href="#ros-node-description-the-action_interface.cpp-node">ROS node description: he action_interface.cpp node</a></li>
        <li><a href="#ros-node-description-the-manipulation.cpp-node ">ROS node description: the manipulation.cpp node</a></li>
        <li><a href="#ros-node-description-my_simulation.cpp-node ">ROS node description:my_simulation.cpp node </a></li>
          <ul>
            <li><a href=#rossrv>rossrv</a></li>
            <li><a href=#rosmsg>rosmsg</a></li>
            <li><a href=#rostopic>rostopic</a></li>
            <li><a href=#rosparam>rosparam</a></li>
          </ul>
        <li><a href="#rqt_graph">rqt_graph</a></li>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#running procedure">Running procedure</a></li>
      </ul>
    </li>
    <li><a href="#usage">Usage</a></li>
    <li>
      <a href="#Working-hypothesis-and-environment">Working hypothesis and environment</a>
      <ul>
        <li><a href="#System's features">System's features</a></li>
        <li><a href="#System's limitations">System's limitations</a></li>
        <li><a href="#Possible technical Improvements">Possible technical Improvements</a></li>
      </ul>
    </li>
    <li><a href="#roadmap">Roadmap</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#license">License</a></li>
    <li><a href="#contact">Contact</a></li>
    <li><a href="#acknowledgments">Acknowledgments</a></li>
  </ol>
</details>
<!-- ABOUT THE PROJECT -->
<div class="section" id="about-the-project">
<h1>About The Project<a class="headerlink" href="#about-the-project" title="Permalink to this heading"></a></h1>
<p>This project consists in building a simulation where our detectibot takes on the appereance of a real robot, roaming into a phisical environment (differentlwy from what occured in the first project ) containing hints.</p>
<p>There are four different positions in the environment (x,y,z respectively) that contains hints:
If the <em>cluedo_link</em> of the robot is reasonably close, this will trigger the oracle for the generation of a hint</p>
<blockquote>
<div><p><strong>REMARK</strong> x and y coordinates where known a priori as shown in the table below</p>
</div></blockquote>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>room</p></th>
<th class="head"><p>x,y coordinates</p></th>
<th class="head"><p>z coordinate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FirstMarkerPosition</p></td>
<td><p>( -3,0 )</p></td>
<td><p>0.75 v 1.25</p></td>
</tr>
<tr class="row-odd"><td><p>SecondMarkerPosition</p></td>
<td><p>( +3,0 )</p></td>
<td><p>0.75 v 1.25</p></td>
</tr>
<tr class="row-even"><td><p>ThirdMarkerPosition</p></td>
<td><p>( 0,-3 )</p></td>
<td><p>0.75 v 1.25</p></td>
</tr>
<tr class="row-odd"><td><p>FourthMarkerPosition</p></td>
<td><p>( 0, +3 )</p></td>
<td><p>0.75 v 1.25</p></td>
</tr>
</tbody>
</table>
<p>Having differen values for z, it is needed that detectibot reaches both quotes with its cluedo_link</p>
<p>Concerining the simulation environment, there are small walls around the robot aimed at impeding the movements of its mobile base</p>
<p>Hence the robot moves from one «hint» coordinate to another one, while receiving hints. This holds until it has a complete
and consistent hypothesis</p>
<!-- Note about  consistent huèothesis -->
<p>Please consider that <strong>consistent hypothesis</strong> have been defined as COMPLETED but NOT INCONSISTENT</p>
<blockquote>
<div><p><em>REMARK</em> A consistent hypothesis is  defined as <em>completed</em> when there occurs one role for each class (i.e., one occourence of what, one occourence for who, one occourence for where ).
A straightforward example of such hypothesis is <span class="xref myst">ID2</span>, whose definition is here below reported</p>
</div></blockquote>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>ID2_1: [&#39;where&#39;, &#39;Study&#39;]
ID2_2: [&#39;who&#39;, &#39;Col.Mustard&#39;]
ID2_3: [&#39;what&#39;, &#39;Rope&#39;]
</pre></div>
</div>
<blockquote>
<div><p><em>REMARK</em> An hypothesis, is defined as <em>inconsistent</em> when there occurs more than one role for each class (i.e. 2 or more occourences of who, where, what)</p>
</div></blockquote>
<p>A clear example of such hypothesis is ID4  whose definition is here below reported</p>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>ID4_1: [&#39;where&#39;, &#39;Library&#39;]
ID4_2: [&#39;who&#39;, &#39;Mrs.White&#39;]
ID4_3: [&#39;what&#39;, &#39;LeadPipe&#39;]
ID4_4: [&#39;where&#39;, &#39;Diningroom&#39;]
</pre></div>
</div>
<div class="section" id="assignments-prerequisites">
<h2>Assignment’s prerequisites<a class="headerlink" href="#assignments-prerequisites" title="Permalink to this heading"></a></h2>
<p>As in the first assignment:</p>
<ul class="simple">
<li><p>only one ID source is the trustable one.</p></li>
<li><p>Whenever a robot gets a complete hypothesis, it should go in the center of the arena</p></li>
<li><p>Once the center has been reached, it should «tell» its solution (as in the first assignment).</p></li>
<li><p>If the solution is the <strong>correct one</strong>, the game ends</p></li>
<li><p>it is strictly required to use ROSPlan here, to plan the behaviour of your
robot.</p></li>
<li><p>create a pddl domain, problem and a set of actions</p></li>
<li><p>the robot of the model has no limitations, meaning that it can be modelled in whatever fashion</p></li>
</ul>
<p align="right">(<a href="#top">back to top</a>)</p>
</div>
<div class="section" id="built-with">
<h2>Built With 🏗️<a class="headerlink" href="#built-with" title="Permalink to this heading"></a></h2>
<!-- PLEASE INSERT HERE -->
<ul class="simple">
<li><p><a class="reference external" href="http://wiki.ros.org">ROS</a></p></li>
<li><p><a class="reference external" href="https://github.com/KCL-Planning/ROSPlan">ROSPlan Framework</a></p></li>
<li><p><a class="reference external" href="https://moveit.ros.org/">MoveIt Frameowrk</a></p></li>
</ul>
<!-- *[move_base][7] -->
<p align="right">(<a href="#top">back to top</a>)</p>
<!-- GETTING STARTED -->
</div>
</div>
<div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this heading"></a></h1>
<p>Under the following sections, the software architecture is briefly introduced, along with the prerequisites and installation procedures. Then, a quick video demonstration showing the overall functioning is provided and system’s limitations are discussed</p>
<div class="section" id="installation-procedure">
<h2>Installation procedure<a class="headerlink" href="#installation-procedure" title="Permalink to this heading"></a></h2>
<blockquote>
<div><dl class="myst field-list simple">
<dt class="field-odd">warning</dt>
<dd class="field-odd"><p>To avoid further issues, please use this docker image provided by our professors</p>
</dd>
</dl>
</div></blockquote>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>docker run -it -p <span class="m">6080</span>:80 -p <span class="m">5900</span>:5900 --name MyDockerContainer carms84/exproblab
</pre></div>
</div>
<p>Also remember to update and upgrade the container</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo apt get update
sudo apt get upgrade
</pre></div>
</div>
<p>Then run <code class="docutils literal notranslate"><span class="pre">catkin_make</span></code> on your workspace; in my case:</p>
<ul>
<li><p>Navigate to your ROS workspace</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /home/ros_ws/
</pre></div>
</div>
</li>
<li><p>Run catkin</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>catkin_make
</pre></div>
</div>
</li>
</ul>
<p>You can now download the repository inside the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /home/ros_ws/src
git clone https://github.com/fedehub/ExperimentalRoboticsAssignment2
</pre></div>
</div>
<p>Also download <code class="docutils literal notranslate"><span class="pre">MoveIt</span> <span class="pre">1.1.5</span></code></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/ros-planning/moveit.git
<span class="nb">cd</span> moveit
git checkout 2b881e5e3c4fd900d4d4310f4b12f9c4a63eb5dd
<span class="nb">cd</span> ..
git clone https://github.com/ros-planning/moveit_resources.git
<span class="nb">cd</span> moveit_resources
git checkout f6a7d161e224b9909afaaf621822daddf61b6f52
<span class="nb">cd</span> ..
git clone https://github.com/ros-planning/srdfdom.git
<span class="nb">cd</span> srdfdom
git checkout b1d67a14e45133928f9793e9ee143998219760fd
<span class="nb">cd</span> ..
apt-get install -y ros-noetic-rosparam-shortcuts
<span class="nb">cd</span> ..
catkin_make
catkin_make
catkin_make
</pre></div>
</div>
</div>
</div>
<div class="section" id="workspace-building-e-launch">
<h1>Workspace building e launch<a class="headerlink" href="#workspace-building-e-launch" title="Permalink to this heading"></a></h1>
<p>Navigate to you workspace</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /home/ros_ws/
</pre></div>
</div>
<ul class="simple">
<li><p>clone the repository</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>https://github.com/fedehub/ExperimentalRoboticsAssignment2
</pre></div>
</div>
<ul class="simple">
<li><p>source your workspace by typing</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> devel/setup.bash
</pre></div>
</div>
<p align="right">(<a href="#top">back to top</a>)</p>
<div class="section" id="running-procedure">
<h2>Running procedure<a class="headerlink" href="#running-procedure" title="Permalink to this heading"></a></h2>
<!-- including all the steps to display the robot's behavior -->
<p>To test the project, first of all:</p>
<ul class="simple">
<li><p>Open a shell and run:</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>roslaunch erl_moveit_pkg run_detectibot.launch <span class="m">2</span>&gt;/dev/null
</pre></div>
</div>
<ul class="simple">
<li><p>Open a second shell and run</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>roslaunch erl_assignment_2 run_rosplan.launch
</pre></div>
</div>
<ul class="simple">
<li><p>Open a third shell and type:</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>rosrun erl_assignment_2 main.py
</pre></div>
</div>
<!-- USAGE EXAMPLES -->
</div>
</div>
<div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h1>
<p>The most relevant aspects of the project and a brief video tutorial on how to launch the simulation can be found here below</p>
<p>https://user-images.githubusercontent.com/61761835/187249845-1b03e627-d32e-4464-b7d3-0f172419d2f9.mp4</p>
<!-- A commented small video, a GIF or screenshots showing the relevant parts of the running code. -->
<p align="right">(<a href="#top">back to top</a>)</p>
</div>
<div class="section" id="ros-node-description-an-overview">
<h1>ROS node description: An overview<a class="headerlink" href="#ros-node-description-an-overview" title="Permalink to this heading"></a></h1>
<p>Here there is the UML components diagram of the project</p>
<img alt="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/component_diagrams/v1/component_diagram.jpg" src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/component_diagrams/v1/component_diagram.jpg" />
<p>Some remarks about the aformentioned components diagram:</p>
<ul class="simple">
<li><p>The main node simply keeps replanning until the mistery gets solved</p></li>
<li><p>The rosplan block represents a set of nodes provided by the Rosplan framework</p></li>
<li><p>The component action_interface represents a moltitude of nodes, each implementing one pddl action</p></li>
</ul>
<p>As shown in the above component diagram, this software architechture relies on the synergy of varius modules:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl_assignment_2/scripts/cluedo_kb.py">cluedo_kb.py</a>              <!-- PLEASE INSERT HERE --></p></li>
<li><p><a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl_assignment_2/scripts/go_to_point.py">go_to_point.py</a>            <!-- PLEASE INSERT HERE --></p></li>
<li><p><a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl_assignment_2/scripts/main.py">main.py</a>                   <!-- PLEASE INSERT HERE --></p></li>
<li><p><a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl_assignment_2/scripts/cluedo_kb.py">action_interface.cpp</a>      <!-- PLEASE INSERT HERE --></p></li>
<li><p><a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl_assignment_2/scripts/go_to_point.py">manipulation.cpp</a>          <!-- PLEASE INSERT HERE --></p></li>
</ul>
<p>Here below we can find the nodes devoted for testing purposes</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl2/src/my_simulation.cpp">my_simulation.cpp</a></p></li>
<li><p><a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl_assignment_2/scripts/test_nav.py">test_nav.py</a></p></li>
</ul>
<div class="section" id="ros-node-description-the-go-to-point-py-node">
<h2>ROS node description: the go_to_point.py node  🪢<a class="headerlink" href="#ros-node-description-the-go-to-point-py-node" title="Permalink to this heading"></a></h2>
<p>Let’s start with the <code class="docutils literal notranslate"><span class="pre">go_to_point.py</span></code> node</p>
<p align="center">
<img src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/component_diagrams/v1/erl_assignment_go_to_point_py.jpg" width= 500 height=500>
</p>
<p>It implements a ROS service, whose purpose is that of piloting the robot toward a specific target by following a straight line. As it is shown by the component diagram here reported, it subscribes to the <code class="docutils literal notranslate"><span class="pre">/odom</span></code> topic for retrieving the current robot position and once the robot orientation among x and y coordinates has been computed with respect to the target position (obtained by means of the ros parameter server), it publishes on the <code class="docutils literal notranslate"><span class="pre">/cmd_vel</span></code> topic</p>
<p>Concerning the ros parameters:
<code class="docutils literal notranslate"><span class="pre">des_pos_x</span></code> and <code class="docutils literal notranslate"><span class="pre">des_pos_y</span></code> are used for keeping track of the target goal to be assigned to the robot in the go_to_point.py node</p>
<p>Node interfaces:</p>
<div class="highlight-Plain notranslate"><div class="highlight"><pre><span></span>Node [/go_to_point]
Publications: 
 * /cmd_vel [geometry_msgs/Twist]
 * /rosout [rosgraph_msgs/Log]

Subscriptions: 
 * /clock [rosgraph_msgs/Clock]
 * /odom [nav_msgs/Odometry]

Services: 
 * /go_to_point
 * /go_to_point/get_loggers
 * /go_to_point/set_logger_level

</pre></div>
</div>
</div>
<div class="section" id="ros-node-description-the-main-py-node">
<h2>ROS node description: the main.py node 🪢<a class="headerlink" href="#ros-node-description-the-main-py-node" title="Permalink to this heading"></a></h2>
<p align="center">
<img src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/component_diagrams/v1/erl_assignment_2_main_py.jpg" width= 500 height=500>
</p>
<p>This node represents three core structures, even the “brain” of our achitechture. Being ROSPlan a framework  that owns a variety of nodes which encapsulate planning, problem generation and plan execution, a set of clients have been initialised to, subsequently:</p>
<ul class="simple">
<li><p>generate a problem: a <a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/tree/main/erl_assignment_2/pddl">pddl problem</a> is published on a topic</p></li>
<li><p>establish a plan: a planner is called for  publishing the plan to a topic</p></li>
<li><p>parse a plan: At this stage the PDDL plan is converted into ROS messages, ready to be executed</p></li>
<li><p>dispatch a plan:  for being then executed</p></li>
</ul>
<p>There is also the possibility to update the Knowledge base (being it the main responsible for the PDDL domain model amd current problem istance stroage)</p>
<p>Indeed, if detectibot is not able to solve the mistery at the first round, it is possible to count on a “replanning phase”, after which it starts roaming around the environment for gathering hints held by the markers</p>
<p>Node Interfaces:</p>
<div class="highlight-Plain notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="section" id="ros-node-description-the-cluedo-kb-py-node">
<h2>ROS node description: the cluedo_kb.py node 🪢<a class="headerlink" href="#ros-node-description-the-cluedo-kb-py-node" title="Permalink to this heading"></a></h2>
<p>Concerning the <code class="docutils literal notranslate"><span class="pre">cluedo_kb.py</span></code> node:</p>
<p align="center">
<img src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/component_diagrams/v1/erl_assignment_2_cluedo_kb_py.jpg" width= 500 height=500>
</p>
<p>cluedo_KB is a node that acts as a dedicated ontology for the problem under investigation; it provides a processing/reasoning system that provides the functionalities of:</p>
<ul class="simple">
<li><p>registering the clues</p></li>
<li><p>building and processing hypotheses based on the added information</p></li>
<li><p>finding possible solutions to the case</p></li>
<li><p>rejecting hypotheses</p></li>
</ul>
<blockquote>
<div><p><em><strong>REMARK</strong></em> the KB listens in on the oracle’s topic and as soon as the oracle transmits the clue, the KB adds the message to the ontology without the need for an explicit request</p>
</div></blockquote>
<p>Node interfaces:</p>
<div class="highlight-Plain notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="section" id="ros-node-description-the-action-interface-cpp-node">
<h2>ROS node description: the action_interface.cpp node  🪢<a class="headerlink" href="#ros-node-description-the-action-interface-cpp-node" title="Permalink to this heading"></a></h2>
<p>Concerning the <code class="docutils literal notranslate"><span class="pre">action_interface.cpp</span></code> node:</p>
<p align="center">
<img src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/component_diagrams/v2/erl_assignment_2_action_interface_cpp_v2.jpg" width= 500 height=500>
</p>
<p>action_interface.cpp implements all rosplan actions in a single ROS node, moreover:</p>
<ul class="simple">
<li><p>the same node can be run replicated for all actions specified in the pddl</p></li>
<li><p>topics and services only get allocated when the action is called for the first time via the rosplan action dispatcher</p></li>
<li><p>the node interacts with the navigation and manipulation systems to move the robot and the arm</p></li>
<li><p>The node also interacts with the KB and the oracle for clue and hypothesis processing operations</p></li>
</ul>
<p>Regarding the pddl, it is possible to see their logical implementation within the domain file, inside the <a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/tree/main/erl_assignment_2/pddl/detectibot_pddl">detectibot_pddl</a> folder. There you can find both the predicates and seven actions, namely:</p>
<ol class="arabic simple">
<li><p>leave_temple</p></li>
<li><p>shift_gripper</p></li>
<li><p>gather_hint</p></li>
<li><p>go_to_wp</p></li>
<li><p>reach_temple</p></li>
<li><p>check_consistent_hypo</p></li>
<li><p>query_hypo</p></li>
</ol>
<p>here below it is possible to see the conntent of the soultion found. If you wamt to take a look at the file itself, just <a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl_assignment_2/pddl/detectibot_pddl/solution.txt">click here</a></p>
<div class="highlight-Plain notranslate"><div class="highlight"><pre><span></span>; States evaluated: 54
; Cost: 14.013
; Time 0.00
0.000: (leave_temple tp wp1)  [1.000]
1.001: (shift_gripper wp1)  [1.000]
2.002: (gather_hint wp1)  [1.000]
3.003: (go_to_wp wp1 wp2)  [1.000]
4.004: (shift_gripper wp2)  [1.000]
5.005: (gather_hint wp2)  [1.000]
6.006: (go_to_wp wp2 wp3)  [1.000]
7.007: (shift_gripper wp3)  [1.000]
8.008: (gather_hint wp3)  [1.000]
9.009: (go_to_wp wp3 wp4)  [1.000]
10.010: (shift_gripper wp4)  [1.000]
11.011: (gather_hint wp4)  [1.000]
12.012: (reach_temple wp4 tp)  [1.000]
12.012: (check_consistent_hypo wp1)  [1.000]
13.013: (query_hypo tp)  [1.000]
</pre></div>
</div>
<p>Node interfaces:</p>
<div class="highlight-Plain notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="section" id="ros-node-description-the-manipulation-cpp-node">
<h2>ROS node description: the manipulation.cpp node 🪢<a class="headerlink" href="#ros-node-description-the-manipulation-cpp-node" title="Permalink to this heading"></a></h2>
<p>Concerning the <code class="docutils literal notranslate"><span class="pre">manipulation_cpp</span></code> node:</p>
<p align="center">
<img src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/component_diagrams/v1/erl_assignment_2_manipulation_cpp.jpg" width= 500 height=500>
</p>
<p>This node is simply devoted to control the Detectibot’s manipulator by directly interacting with the MoveIt! framework</p>
<p>Node interfaces:</p>
<div class="highlight-Plain notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="section" id="ros-node-description-my-simulation-cpp-node">
<h2>ROS node description: my_simulation.cpp node 🪢<a class="headerlink" href="#ros-node-description-my-simulation-cpp-node" title="Permalink to this heading"></a></h2>
<p align="center">
<img src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/component_diagrams/v1/erl2_my_simulation_cpp.jpg" width= 500 height=500>
</p>
<p>This is the node provided by professor with some simplification in orderr to make the siumulation run faster and test wheter the detectibot would have carry out the investigation entirely.</p>
<p>Node interfaces:</p>
<div class="highlight-Plain notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="section" id="rqt-graph">
<h2>rqt_graph<a class="headerlink" href="#rqt-graph" title="Permalink to this heading"></a></h2>
<p>In the figure below, circles represent nodes and squares represent topic messages. The arrow instead, indicates the transmission of the message!</p>
<img alt="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/rqt/rosgraph_nodes_topics_all.png" src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/media/rqt/rosgraph_nodes_topics_all.png" />
</div>
<div class="section" id="uml-temporal-diagram">
<h2>UML temporal diagram<a class="headerlink" href="#uml-temporal-diagram" title="Permalink to this heading"></a></h2>
<img alt="https://github.com/fedehub/ExperimentalRoboticsAssignment2/tree/main/media/state_diagrams/Diagrams_erl_img.jpg" src="https://github.com/fedehub/ExperimentalRoboticsAssignment2/tree/main/media/state_diagrams/Diagrams_erl_img.jpg" />
</div>
</div>
<div class="section" id="working-hypothesis-and-environment">
<h1>Working hypothesis and environment<a class="headerlink" href="#working-hypothesis-and-environment" title="Permalink to this heading"></a></h1>
<p>The  architecture  is designed for providing a raw simplification of the Cluedo Game. Hints are set a-priori and the True hipothesis is  randomly chosen before starting the game.</p>
<p>Detectibot (the robot involved in the investigation), moves in a obstacle-free environment charachterised by a perfectly flat floor (without irregularities), within a square-shaped indoor environment</p>
<p>Concerning the markers we can say that they are positioned in such  a way that the arm can reach them</p>
<p>All choices were made with the aim of making the system as modular and flexible as possible. Despite this, certain limitations make the system quite unrealistic but functional.</p>
<div class="section" id="systems-features">
<h2>System’s features<a class="headerlink" href="#systems-features" title="Permalink to this heading"></a></h2>
<p>Most of them have been already discussed in the Software architecture’s section.</p>
<p>The project implements the robot behaviour so that it can keep roaming around, looking for clues. This serves for solving the case.</p>
<p>Indeed, while it navigates through the environment it tries to combine them in order to find a solution. This is where the reasoning &amp; AI module, represented by the <a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/blob/main/erl_assignment_2/scripts/cluedo_kb.py">cluedo_kb.py</a>, comes imto play</p>
<p>Concerning the architecture, it is centralised and designed in such a way that individual components can be replaced as long as they meet the same required interface</p>
</div>
<div class="section" id="systems-limitations">
<h2>System’s limitations<a class="headerlink" href="#systems-limitations" title="Permalink to this heading"></a></h2>
<p>Here below, some of the major system limitations are listed:</p>
<ul class="simple">
<li><p>the navigation module is not suitable for environments with obstacles as it needs to make a straight line between the starting point and the target.</p></li>
<li><p>since there is no unit that deals explicitly with the marker topology, changing such a topology requires the modification of several parts of the architecture including:</p>
<ul>
<li><p>the main node that takes into account the topology for being able to do replanning</p></li>
<li><p>the pddl models, in particular the problem file</p></li>
<li><p>the oracle, represented by the simulation.cpp node, having hard-coded markers, must be modified to support a new topology</p></li>
</ul>
</li>
<li><p>the architecture could also be executed in a distributed manner by dividing the components over various devices. However, this possibility was not considered during the design of the system. It is therefore necessary to identify possible criticalities in the communication protocol (i.e. to better manage service calls that fail based on the quality of the connection) and to treat them appropriately</p></li>
</ul>
</div>
<div class="section" id="possible-technical-improvements">
<h2>Possible technical Improvements<a class="headerlink" href="#possible-technical-improvements" title="Permalink to this heading"></a></h2>
<p>As for the system limitations, some of the most relevant potential techincal improvements:</p>
<ul class="simple">
<li><p>The current KB can be modified to implement the same functionalities on a different ontology system (i.e. Armor); the component can be extended for more accurate  hypotheses processing or for providing, for instance, a ontology backup feature</p></li>
<li><p>The current navigation system is rather poor; it should be replaced with a more elaborate navigation system. In particular, the new navigation system should make it possible to achieve a certain orientation as well as a final position.</p></li>
<li><p>The manipulation could be replaced with a more advanced node that performs a finer (more precise) control on moveit</p></li>
<li><p>The current robot model is quite unstable. It should be adjusted so that it does not oscillate during its movments</p></li>
<li><p>the robot needs a lot of manoeuvring space to move; There should be the need of seeking an appropriate navigation algorithm to reduce the necessary manoeuvring space</p></li>
</ul>
<!-- ROADMAP -->
</div>
</div>
<div class="section" id="roadmap">
<h1>Roadmap<a class="headerlink" href="#roadmap" title="Permalink to this heading"></a></h1>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Complete the introduction of the template</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Describe the software architechture</p>
<ul class="contains-task-list">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Component diagram (<em>not mandatory</em>)</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Temporal diagram + comments</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> States diagrams, whether applicable + comments</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Create a list describing ROS messages and parameters</p></li>
</ul>
</li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Describe the installation steps and the running procedures</p>
<ul class="contains-task-list">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Create a dedicated paragraph</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Include all the steps to display the robot’s behaviour</p></li>
</ul>
</li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Show in the “usage” section the running code</p>
<ul class="contains-task-list">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Create a small video tutorial of the launch</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Create a small animated gif of the terminal while running code</p></li>
</ul>
</li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Describe the Working hypothesis and environment</p>
<ul class="contains-task-list">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Dedicated section for System’s features</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Dedicated section for System’s limitations</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Dedicated section for Possible technical improvements</p></li>
</ul>
</li>
</ul>
<p>See the <a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2/issues">open issues</a> for a full list of proposed features (and known issues).</p>
<p align="right">(<a href="#top">back to top</a>)</p>
<!-- CONTRIBUTING -->
</div>
<div class="section" id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this heading"></a></h1>
<p>If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag “enhancement”</p>
<ol class="arabic simple">
<li><p>Fork the Project</p></li>
<li><p>Create your Feature Branch (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">feature/AmazingFeature</span></code>)</p></li>
<li><p>Commit your Changes (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">'Add</span> <span class="pre">some</span> <span class="pre">AmazingFeature'</span></code>)</p></li>
<li><p>Push to the Branch (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">feature/AmazingFeature</span></code>)</p></li>
<li><p>Open a Pull Request</p></li>
</ol>
<p align="right">(<a href="#top">back to top</a>)</p>
<!-- LICENSE -->
</div>
<div class="section" id="license">
<h1>License<a class="headerlink" href="#license" title="Permalink to this heading"></a></h1>
<p>Distributed under none License.</p>
<p align="right">(<a href="#top">back to top</a>)</p>
<!-- CONTACT -->
</div>
<div class="section" id="contact">
<h1>Contact<a class="headerlink" href="#contact" title="Permalink to this heading"></a></h1>
<p>Federico Civetta - s4194543&#64;studenti.unige.it</p>
<p>Project Link: <a class="reference external" href="https://github.com/fedehub/ExperimentalRoboticsAssignment2">https://github.com/fedehub/ExperimentalRoboticsAssignment2</a></p>
<p align="right">(<a href="#top">back to top</a>)</p>
<!-- ACKNOWLEDGMENTS -->
</div>
<div class="section" id="list-of-resources">
<h1>List of resources<a class="headerlink" href="#list-of-resources" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference external" href="http://wiki.ros.org/smach/Tutorials/Smach%20Viewer">Viewing state machine</a></p></li>
<li><p><a class="reference external" href="http://wiki.ros.org/smach">Smach</a></p></li>
<li><p><a class="reference external" href="https://github.com/EmaroLab/armor">Armor</a></p></li>
<li><p><a class="reference external" href="https://protege.stanford.edu">Protègè</a></p></li>
</ul>
<p align="right">(<a href="#top">back to top</a>)</p>
<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
<!-- general resources -->
<!-- Nodes -->
<!-- Launchers -->
<!-- srvs -->
<!-- Component diagrams  -->
<!-- rqt graphs -->
<!-- state diagram -->
<!-- MoveIt -->
<!-- Previous project links -->
<!-- pddl -->
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Federico Civetta.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>